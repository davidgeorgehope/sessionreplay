<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Session Replay Demo</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    h1 { color: #333; }
    .card {
      background: white;
      border-radius: 8px;
      padding: 20px;
      margin: 20px 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .card h2 { margin-top: 0; color: #555; }
    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      margin: 5px;
      font-size: 14px;
    }
    button:hover { background: #0056b3; }
    button.secondary { background: #6c757d; }
    button.danger { background: #dc3545; }
    button.success { background: #28a745; }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
    }
    .form-group { margin-bottom: 15px; }
    label { display: block; margin-bottom: 5px; font-weight: 500; }
    .dead-click-target {
      background: #eee;
      padding: 20px;
      text-align: center;
      border-radius: 4px;
      color: #666;
    }
    .scroll-container {
      height: 200px;
      overflow-y: scroll;
      border: 1px solid #ddd;
      padding: 10px;
      background: white;
    }
    .scroll-content { height: 800px; }
    .scroll-content p { margin: 20px 0; }
    .status {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #333;
      color: #0f0;
      padding: 15px;
      border-radius: 8px;
      font-family: monospace;
      font-size: 12px;
      max-width: 300px;
      max-height: 200px;
      overflow-y: auto;
    }
    .status h3 { margin: 0 0 10px; color: #0f0; }
    .nav-links { display: flex; gap: 10px; flex-wrap: wrap; }
    .nav-links a {
      color: #007bff;
      text-decoration: none;
      padding: 5px 10px;
      border: 1px solid #007bff;
      border-radius: 4px;
    }
    .nav-links a:hover { background: #007bff; color: white; }
    #event-log { list-style: none; padding: 0; margin: 0; }
    #event-log li { padding: 2px 0; border-bottom: 1px solid #444; }
  </style>
</head>
<body>
  <h1>Session Replay Demo</h1>
  <p>This demo showcases semantic event capture and frustration detection.</p>

  <!-- Navigation -->
  <div class="card">
    <h2>Navigation</h2>
    <div class="nav-links">
      <a href="#home">Home</a>
      <a href="#products">Products</a>
      <a href="#cart">Cart</a>
      <a href="#checkout">Checkout</a>
      <a href="#about">About</a>
    </div>
  </div>

  <!-- Click Tracking -->
  <div class="card">
    <h2>Click Tracking</h2>
    <p>Click these buttons to see semantic event capture:</p>
    <button id="btn-add-cart" data-product-id="123" data-category="electronics">Add to Cart</button>
    <button id="btn-wishlist" class="secondary" aria-label="Add to wishlist">Wishlist</button>
    <button id="btn-compare" class="secondary" title="Compare products">Compare</button>
    <button id="btn-buy-now" class="success">Buy Now</button>
  </div>

  <!-- Form Tracking -->
  <div class="card">
    <h2>Form Behavior</h2>
    <form id="checkout-form">
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" id="email" name="email" placeholder="you@example.com" required>
      </div>
      <div class="form-group">
        <label for="card-number">Card Number</label>
        <input type="text" id="card-number" name="card" placeholder="4242 4242 4242 4242" data-sensitive="true">
      </div>
      <div class="form-group">
        <label for="shipping">Shipping Method</label>
        <select id="shipping" name="shipping">
          <option value="">Select shipping...</option>
          <option value="standard">Standard (5-7 days)</option>
          <option value="express">Express (2-3 days)</option>
          <option value="overnight">Overnight</option>
        </select>
      </div>
      <div class="form-group">
        <label for="notes">Order Notes</label>
        <textarea id="notes" name="notes" rows="3" placeholder="Special instructions..."></textarea>
      </div>
      <button type="submit" id="btn-submit-order">Submit Order</button>
    </form>
  </div>

  <!-- Frustration Signals -->
  <div class="card">
    <h2>Frustration Signals</h2>

    <h3>Rage Click Test</h3>
    <p>Rapidly click this button 5+ times to trigger rage click detection:</p>
    <button id="btn-slow-action" class="danger">Slow Action (click rapidly!)</button>

    <h3>Dead Click Test</h3>
    <p>Click this non-interactive element:</p>
    <div class="dead-click-target" id="dead-click-area">
      This looks clickable but isn't (dead click target)
    </div>

    <h3>Thrashing Test</h3>
    <p>Scroll up and down rapidly in this container:</p>
    <div class="scroll-container" id="scroll-area">
      <div class="scroll-content">
        <p>Scroll content line 1 - Keep scrolling!</p>
        <p>Scroll content line 2</p>
        <p>Scroll content line 3</p>
        <p>Scroll content line 4</p>
        <p>Scroll content line 5</p>
        <p>Scroll content line 6</p>
        <p>Scroll content line 7</p>
        <p>Scroll content line 8</p>
        <p>Scroll content line 9</p>
        <p>Scroll content line 10 - Now scroll back up fast!</p>
        <p>Scroll content line 11</p>
        <p>Scroll content line 12</p>
        <p>Scroll content line 13</p>
        <p>Scroll content line 14</p>
        <p>Scroll content line 15 - Bottom reached!</p>
      </div>
    </div>
  </div>

  <!-- Error Simulation -->
  <div class="card">
    <h2>Error Simulation</h2>
    <button id="btn-js-error" class="danger">Trigger JS Error</button>
    <button id="btn-promise-error" class="danger">Trigger Promise Rejection</button>
    <button id="btn-network-error" class="danger">Trigger Network Error</button>
  </div>

  <!-- Event Log -->
  <div class="status">
    <h3>Event Log</h3>
    <ul id="event-log"></ul>
  </div>

  <!-- Load the demo script -->
  <script type="module" src="./demo.js"></script>
</body>
</html>
